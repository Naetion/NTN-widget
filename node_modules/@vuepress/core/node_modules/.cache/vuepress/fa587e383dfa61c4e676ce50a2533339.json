{"remainingRequest":"/Users/buddhika/Documents/GitHub/NTN-widget/NTN-widget/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/buddhika/Documents/GitHub/NTN-widget/NTN-widget/vuepress/components/Page.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/buddhika/Documents/GitHub/NTN-widget/NTN-widget/vuepress/components/Page.vue","mtime":1682536531248},{"path":"/Users/buddhika/Documents/GitHub/NTN-widget/NTN-widget/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/buddhika/Documents/GitHub/NTN-widget/NTN-widget/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/buddhika/Documents/GitHub/NTN-widget/NTN-widget/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/buddhika/Documents/GitHub/NTN-widget/NTN-widget/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vbWl4aW5zL2Jyb3dzZXInOwogIGltcG9ydCBkYXBwIGZyb20gJy4uL21peGlucy9kYXBwJzsKICBpbXBvcnQgc2hvcnRlbmVyIGZyb20gJy4uL21peGlucy9zaG9ydGVuZXInOwoKICBleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnUGFnZScsCiAgICBtaXhpbnM6IFsKICAgICAgYnJvd3NlciwKICAgICAgZGFwcCwKICAgICAgc2hvcnRlbmVyLAogICAgXSwKICAgIGRhdGEgKCkgewogICAgICByZXR1cm4gewogICAgICAgIGxvYWRlZDogZmFsc2UsCiAgICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgICBzaGFyZToge30sCiAgICAgICAgY3VycmVudE5ldHdvcms6IG51bGwsCiAgICAgICAgdG9rZW46IHt9LAogICAgICB9OwogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgIHNjdExpbmsgKCkgewogICAgICAgIGNvbnN0IG5ldHdvcmsgPSB0aGlzLm5ldHdvcmsuY3VycmVudCA/ICh0aGlzLm5ldHdvcmsuY3VycmVudC5ibG9ja2NoYWluID09PSAnRXRoZXJldW0nID8gYGV0aGVyZXVtXyR7dGhpcy5jdXJyZW50TmV0d29ya31gIDogdGhpcy5jdXJyZW50TmV0d29yaykgOiAnZXRoZXJldW1fbWFpbm5ldCc7CiAgICAgICAgcmV0dXJuIGBodHRwczovL3d3dy5zbWFydGNvbnRyYWN0cy50b29scy90b2tlbi13YXRjaGVyL3BhZ2UvP2hhc2g9JHt0aGlzLnRva2VuLmhhc2h9Jm5ldHdvcms9JHtuZXR3b3JrfWA7CiAgICAgIH0sCiAgICB9LAogICAgbW91bnRlZCAoKSB7CiAgICAgIHRoaXMuY3VycmVudE5ldHdvcmsgPSB0aGlzLmdldFBhcmFtKCduZXR3b3JrJykgfHwgdGhpcy5uZXR3b3JrLmRlZmF1bHQ7CiAgICAgIHRoaXMuaW5pdERhcHAoKTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgIGFzeW5jIGluaXREYXBwICgpIHsKICAgICAgICB0aGlzLm5ldHdvcmsuY3VycmVudCA9IHRoaXMubmV0d29yay5saXN0W3RoaXMuY3VycmVudE5ldHdvcmtdOwogICAgICAgIHRyeSB7CiAgICAgICAgICBhd2FpdCB0aGlzLmluaXRXZWIzKHRoaXMuY3VycmVudE5ldHdvcmssIHRydWUpOwogICAgICAgICAgYXdhaXQgdGhpcy5nZXRUb2tlbihkZWNvZGVVUklDb21wb25lbnQodGhpcy5nZXRQYXJhbSgnaGFzaCcpKSk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgYWxlcnQoZSk7CiAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5ocmVmID0gdGhpcy4kd2l0aEJhc2UoJy8nKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGFzeW5jIGdldFRva2VuICh0b2tlbkhhc2gpIHsKICAgICAgICBpZiAodG9rZW5IYXNoKSB7CiAgICAgICAgICBjb25zdCB0b2tlbkluZm8gPSBKU09OLnBhcnNlKHRoaXMud2ViMy51dGlscy5oZXhUb0FzY2lpKHRva2VuSGFzaCkpOwoKICAgICAgICAgIHRoaXMudG9rZW4uaGFzaCA9IHRva2VuSGFzaDsKICAgICAgICAgIHRoaXMudG9rZW4uYWRkcmVzcyA9IHRva2VuSW5mby5hZGRyZXNzOwogICAgICAgICAgdGhpcy5pbml0Q29udHJhY3QodGhpcy50b2tlbi5hZGRyZXNzKTsKCiAgICAgICAgICB0aGlzLnRva2VuLm5hbWUgPSBhd2FpdCB0aGlzLnByb21pc2lmeSh0aGlzLmluc3RhbmNlcy50b2tlbi5tZXRob2RzLm5hbWUoKS5jYWxsKTsKICAgICAgICAgIHRoaXMudG9rZW4uc3ltYm9sID0gYXdhaXQgdGhpcy5wcm9taXNpZnkodGhpcy5pbnN0YW5jZXMudG9rZW4ubWV0aG9kcy5zeW1ib2woKS5jYWxsKTsKICAgICAgICAgIHRoaXMudG9rZW4uZGVjaW1hbHMgPSAoYXdhaXQgdGhpcy5wcm9taXNpZnkodGhpcy5pbnN0YW5jZXMudG9rZW4ubWV0aG9kcy5kZWNpbWFscygpLmNhbGwpKS52YWx1ZU9mKCk7CiAgICAgICAgICB0aGlzLnRva2VuLmxvZ28gPSB0b2tlbkluZm8ubG9nbyA/IHRva2VuSW5mby5sb2dvIDogJyc7CgogICAgICAgICAgaWYgKCF0aGlzLnRva2VuLm5hbWUgfHwgIXRoaXMudG9rZW4uc3ltYm9sIHx8ICF0aGlzLnRva2VuLmRlY2ltYWxzKSB7CiAgICAgICAgICAgIGFsZXJ0KCdJdCBzZWVtcyB0aGF0IGl0IGlzIG5vdCBhIHZhbGlkIFRva2VuIG9yIHlvdSBhcmUgb24gdGhlIHdyb25nIG5ldHdvcmsnKTsKICAgICAgICAgICAgdGhpcy5sb2FkZWQgPSBmYWxzZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMudG9rZW4uZXhwbG9yZXJMaW5rID0gYCR7dGhpcy5uZXR3b3JrLmN1cnJlbnQuZXhwbG9yZXJMaW5rfS90b2tlbi8ke3RoaXMudG9rZW4uYWRkcmVzc31gOwoKICAgICAgICAgICAgdGhpcy5sb2FkZWQgPSB0cnVlOwoKICAgICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBgJHt0aGlzLnRva2VuLm5hbWV9ICgke3RoaXMudG9rZW4uc3ltYm9sfSkgfCAke3RoaXMuJHBhZ2UuZnJvbnRtYXR0ZXIudGl0bGV9YDsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZiA9IHRoaXMuJHdpdGhCYXNlKCcvJyk7CiAgICAgICAgfQogICAgICB9LAogICAgICBhc3luYyBhZGRUb01ldGFNYXNrICgpIHsKICAgICAgICBpZiAoIXRoaXMubWV0YW1hc2suaW5zdGFsbGVkKSB7CiAgICAgICAgICBhbGVydCgnUGxlYXNlIGluc3RhbGwgTWV0YU1hc2sgYW5kIHRyeSBhZ2FpbiEnKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKHRoaXMubWV0YW1hc2submV0SWQgIT09IHRoaXMubmV0d29yay5jdXJyZW50LmlkKSB7CiAgICAgICAgICAgIGFsZXJ0KAogICAgICAgICAgICAgIGBZb3VyIE1ldGFNYXNrIGluIG9uIHRoZSB3cm9uZyBuZXR3b3JrLiBQbGVhc2Ugc3dpdGNoIG9uICR7dGhpcy5uZXR3b3JrLmN1cnJlbnQubmFtZX0gYW5kIHRyeSBhZ2FpbiFgLAogICAgICAgICAgICApOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB0cnkgewogICAgICAgICAgYXdhaXQgdGhpcy53ZWIzUHJvdmlkZXIucmVxdWVzdCh7CiAgICAgICAgICAgIG1ldGhvZDogJ3dhbGxldF93YXRjaEFzc2V0JywKICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgdHlwZTogJ0VSQzIwJywKICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICBhZGRyZXNzOiB0aGlzLnRva2VuLmFkZHJlc3MsCiAgICAgICAgICAgICAgICBzeW1ib2w6IHRoaXMudG9rZW4uc3ltYm9sLnN1YnN0cigwLCAxMSksCiAgICAgICAgICAgICAgICBkZWNpbWFsczogdGhpcy50b2tlbi5kZWNpbWFscywKICAgICAgICAgICAgICAgIGltYWdlOiB0aGlzLnRva2VuLmxvZ28sCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0pOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGUpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGFzeW5jIHNoYXJlVG9rZW4gKCkgewogICAgICAgIHRoaXMuc2hhcmUudG9rZW5MaW5rID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbiArIHRoaXMuJHdpdGhCYXNlKGAvcGFnZS8/aGFzaD0ke3RoaXMudG9rZW4uaGFzaH0mbmV0d29yaz0ke3RoaXMuY3VycmVudE5ldHdvcmt9YCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbWF4LWxlbgoKICAgICAgICB0aGlzLnNoYXJlLnNob3J0TGluayA9IGF3YWl0IHRoaXMuc2hvcnRlbih0aGlzLnNoYXJlLnRva2VuTGluayk7CgogICAgICAgIHRoaXMuc2hhcmUuZmFjZWJvb2sgPSBgaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3NoYXJlci5waHA/dT0ke3RoaXMuc2hhcmUuc2hvcnRMaW5rfSZxdW90ZT1EaXNjb3ZlciBtb3JlIGFib3V0ICR7dGhpcy50b2tlbi5uYW1lfSAoJHt0aGlzLnRva2VuLnN5bWJvbH0pLmA7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbWF4LWxlbgogICAgICAgIHRoaXMuc2hhcmUudHdpdHRlciA9IGBodHRwczovL3R3aXR0ZXIuY29tL2ludGVudC90d2VldD91cmw9JHt0aGlzLnNoYXJlLnNob3J0TGlua30mdGV4dD1EaXNjb3ZlciBtb3JlIGFib3V0ICR7dGhpcy50b2tlbi5uYW1lfSAoJHt0aGlzLnRva2VuLnN5bWJvbH0pLmA7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbWF4LWxlbgogICAgICAgIHRoaXMuc2hhcmUudGVsZWdyYW0gPSBgaHR0cHM6Ly90Lm1lL3NoYXJlL3VybD91cmw9JHt0aGlzLnNoYXJlLnNob3J0TGlua30mdGV4dD1EaXNjb3ZlciBtb3JlIGFib3V0ICR7dGhpcy50b2tlbi5uYW1lfSAoJHt0aGlzLnRva2VuLnN5bWJvbH0pLmA7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbWF4LWxlbgogICAgICAgIHRoaXMuc2hhcmUud2hhdHNhcHAgPSBgaHR0cHM6Ly93YS5tZS8/dGV4dD1EaXNjb3ZlciBtb3JlIGFib3V0ICR7dGhpcy50b2tlbi5uYW1lfSAoJHt0aGlzLnRva2VuLnN5bWJvbH0pLiAke3RoaXMuc2hhcmUuc2hvcnRMaW5rfWA7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbWF4LWxlbgoKICAgICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOwoKICAgICAgICB0aGlzLiRyZWZzLnNoYXJlTW9kYWwuc2hvdygpOwogICAgICB9LAogICAgfSwKICB9Owo="},{"version":3,"sources":["Page.vue"],"names":[],"mappings":";AAuGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA","file":"Page.vue","sourceRoot":"vuepress/components","sourcesContent":["<template>\n  <b-row class=\"p-0 pt-4\">\n    <b-col v-if=\"loading\" lg=\"8\" offset-lg=\"2\">\n      <b-card bg-variant=\"light\">\n        <ui--loader :loading=\"loading\"></ui--loader>\n      </b-card>\n    </b-col>\n    <b-col v-if=\"!loading && !loaded\" lg=\"8\" offset-lg=\"2\">\n      <b-card bg-variant=\"light\">\n        <blockquote>Some error occurred</blockquote>\n        <router-link to=\"/create/\">Try adding your token</router-link>\n      </b-card>\n    </b-col>\n    <b-col v-if=\"loaded\" lg=\"8\" offset-lg=\"2\" class=\"mt-2 p-0\">\n      <b-link :href=\"sctLink\" class=\"text-dark text-decoration-none\">\n      <b-card class=\"mb-4\" role=\"button\" bg-variant=\"warning\">\n        <b-row>\n          <b-col sm=\"2\">\n            <b-img :src=\"$withBase(`/assets/images/token-watcher.svg`)\" fluid></b-img>\n          </b-col>\n          <b-col sm=\"10\">\n            <h3>View {{ token.name }} on SmartContracts Tools.</h3>\n            <h4>Try the new Token Watcher.</h4>\n          </b-col>\n        </b-row>\n        <template #footer>\n          Want to try new features? We created <b>SmartContracts Tools</b> at <b>NONCEPT.</b>\n        </template>\n      </b-card>\n      </b-link>\n\n      <b-jumbotron bg-variant=\"light\" header-level=\"4\" class=\"px-3 py-4\">\n        <template #header>\n          <b-media class=\"mb-3\">\n            <b-img v-if=\"token.logo\"\n                   slot=\"aside\"\n                   :src=\"token.logo\"\n                   rounded=\"circle\"\n                   width=\"64\"\n                   height=\"64\"\n                   :alt=\"token.name\"/>\n            {{ token.name }}\n          </b-media>\n        </template>\n        <template #lead>\n        </template>\n        <hr class=\"my-4\">\n        <h6>Name: <span class=\"text-muted\">{{ token.name }}</span></h6>\n        <h6>Symbol: <span class=\"text-muted\">{{ token.symbol }}</span></h6>\n        <h6>Decimals: <span class=\"text-muted\">{{ token.decimals }}</span></h6>\n        <h6>Address: <span class=\"text-muted token-address\">{{ token.address }}</span></h6>\n        <hr class=\"my-4\">\n        <b-link @click=\"addToMetaMask\" class=\"btn btn-success my-2\">\n          <b-icon-plus-circle-fill></b-icon-plus-circle-fill>\n          Add to MetaMask\n        </b-link>\n        <b-link :href=\"token.explorerLink\" target=\"_blank\" class=\"btn btn-primary my-2\">\n          <b-icon-arrow-up-right-circle-fill></b-icon-arrow-up-right-circle-fill>\n          View on {{ network.current.explorerName }}\n        </b-link>\n        <b-link @click=\"shareToken\" class=\"btn btn-info my-2 float-right\">\n          <b-icon-share></b-icon-share>\n        </b-link>\n      </b-jumbotron>\n      <b-modal ref=\"shareModal\" hide-footer :title=\"`Share ${token.name} page`\">\n        <b-row>\n          <b-col lg=\"12\">\n            <b-form-group\n                label=\"Share link\"\n                label-for=\"tokenLink\">\n              <b-form-input\n                  id=\"tokenLink\"\n                  name=\"tokenLink\"\n                  placeholder=\"Your token link\"\n                  size=\"lg\"\n                  readonly\n                  v-model.trim=\"share.shortLink\">\n              </b-form-input>\n            </b-form-group>\n          </b-col>\n          <b-col lg=\"12\">\n            <p class=\"share-link\">\n              <b-btn :href=\"share.twitter\" target=\"_blank\" class=\"twitter\">\n                <font-awesome-icon :icon=\"['fab', 'twitter']\"/>\n              </b-btn>\n              <b-btn :href=\"share.facebook\" target=\"_blank\" class=\"facebook\">\n                <font-awesome-icon :icon=\"['fab', 'facebook-f']\"/>\n              </b-btn>\n              <b-btn :href=\"share.telegram\" target=\"_blank\" class=\"telegram\">\n                <font-awesome-icon :icon=\"['fab', 'telegram-plane']\"/>\n              </b-btn>\n              <b-btn :href=\"share.whatsapp\" target=\"_blank\" class=\"whatsapp\">\n                <font-awesome-icon :icon=\"['fab', 'whatsapp']\"/>\n              </b-btn>\n            </p>\n          </b-col>\n        </b-row>\n      </b-modal>\n    </b-col>\n  </b-row>\n</template>\n\n<script>\n  import browser from '../mixins/browser';\n  import dapp from '../mixins/dapp';\n  import shortener from '../mixins/shortener';\n\n  export default {\n    name: 'Page',\n    mixins: [\n      browser,\n      dapp,\n      shortener,\n    ],\n    data () {\n      return {\n        loaded: false,\n        loading: true,\n        share: {},\n        currentNetwork: null,\n        token: {},\n      };\n    },\n    computed: {\n      sctLink () {\n        const network = this.network.current ? (this.network.current.blockchain === 'Ethereum' ? `ethereum_${this.currentNetwork}` : this.currentNetwork) : 'ethereum_mainnet';\n        return `https://www.smartcontracts.tools/token-watcher/page/?hash=${this.token.hash}&network=${network}`;\n      },\n    },\n    mounted () {\n      this.currentNetwork = this.getParam('network') || this.network.default;\n      this.initDapp();\n    },\n    methods: {\n      async initDapp () {\n        this.network.current = this.network.list[this.currentNetwork];\n        try {\n          await this.initWeb3(this.currentNetwork, true);\n          await this.getToken(decodeURIComponent(this.getParam('hash')));\n        } catch (e) {\n          alert(e);\n          document.location.href = this.$withBase('/');\n        }\n      },\n      async getToken (tokenHash) {\n        if (tokenHash) {\n          const tokenInfo = JSON.parse(this.web3.utils.hexToAscii(tokenHash));\n\n          this.token.hash = tokenHash;\n          this.token.address = tokenInfo.address;\n          this.initContract(this.token.address);\n\n          this.token.name = await this.promisify(this.instances.token.methods.name().call);\n          this.token.symbol = await this.promisify(this.instances.token.methods.symbol().call);\n          this.token.decimals = (await this.promisify(this.instances.token.methods.decimals().call)).valueOf();\n          this.token.logo = tokenInfo.logo ? tokenInfo.logo : '';\n\n          if (!this.token.name || !this.token.symbol || !this.token.decimals) {\n            alert('It seems that it is not a valid Token or you are on the wrong network');\n            this.loaded = false;\n          } else {\n            this.token.explorerLink = `${this.network.current.explorerLink}/token/${this.token.address}`;\n\n            this.loaded = true;\n\n            document.title = `${this.token.name} (${this.token.symbol}) | ${this.$page.frontmatter.title}`;\n          }\n\n          this.loading = false;\n        } else {\n          document.location.href = this.$withBase('/');\n        }\n      },\n      async addToMetaMask () {\n        if (!this.metamask.installed) {\n          alert('Please install MetaMask and try again!');\n          return;\n        } else {\n          if (this.metamask.netId !== this.network.current.id) {\n            alert(\n              `Your MetaMask in on the wrong network. Please switch on ${this.network.current.name} and try again!`,\n            );\n            return;\n          }\n        }\n\n        try {\n          await this.web3Provider.request({\n            method: 'wallet_watchAsset',\n            params: {\n              type: 'ERC20',\n              options: {\n                address: this.token.address,\n                symbol: this.token.symbol.substr(0, 11),\n                decimals: this.token.decimals,\n                image: this.token.logo,\n              },\n            },\n          });\n        } catch (e) {\n          console.log(e); // eslint-disable-line no-console\n        }\n      },\n      async shareToken () {\n        this.share.tokenLink = window.location.origin + this.$withBase(`/page/?hash=${this.token.hash}&network=${this.currentNetwork}`); // eslint-disable-line max-len\n\n        this.share.shortLink = await this.shorten(this.share.tokenLink);\n\n        this.share.facebook = `https://www.facebook.com/sharer.php?u=${this.share.shortLink}&quote=Discover more about ${this.token.name} (${this.token.symbol}).`; // eslint-disable-line max-len\n        this.share.twitter = `https://twitter.com/intent/tweet?url=${this.share.shortLink}&text=Discover more about ${this.token.name} (${this.token.symbol}).`; // eslint-disable-line max-len\n        this.share.telegram = `https://t.me/share/url?url=${this.share.shortLink}&text=Discover more about ${this.token.name} (${this.token.symbol}).`; // eslint-disable-line max-len\n        this.share.whatsapp = `https://wa.me/?text=Discover more about ${this.token.name} (${this.token.symbol}). ${this.share.shortLink}`; // eslint-disable-line max-len\n\n        this.$forceUpdate();\n\n        this.$refs.shareModal.show();\n      },\n    },\n  };\n</script>\n"]}]}