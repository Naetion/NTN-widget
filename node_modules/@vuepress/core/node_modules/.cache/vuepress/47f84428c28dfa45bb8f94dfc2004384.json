{"remainingRequest":"/Users/buddhika/Documents/GitHub/NTN-widget/NTN-widget/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/buddhika/Documents/GitHub/NTN-widget/NTN-widget/vuepress/components/Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/buddhika/Documents/GitHub/NTN-widget/NTN-widget/vuepress/components/Detail.vue","mtime":1682536531247},{"path":"/Users/buddhika/Documents/GitHub/NTN-widget/NTN-widget/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/buddhika/Documents/GitHub/NTN-widget/NTN-widget/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/buddhika/Documents/GitHub/NTN-widget/NTN-widget/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/buddhika/Documents/GitHub/NTN-widget/NTN-widget/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi4vbWl4aW5zL2Jyb3dzZXInOwogIGltcG9ydCBkYXBwIGZyb20gJy4uL21peGlucy9kYXBwJzsKCiAgZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ0RldGFpbCcsCiAgICBtaXhpbnM6IFsKICAgICAgYnJvd3NlciwKICAgICAgZGFwcCwKICAgIF0sCiAgICBkYXRhICgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBsb2FkZWQ6IGZhbHNlLAogICAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgICAgdG9rZW5MaW5rOiAnJywKICAgICAgICB0b2tlbkVtYmVkOiAnTm8gbG9uZ2VyIGF2YWlsYWJsZScsCiAgICAgICAgY3VycmVudE5ldHdvcms6IG51bGwsCiAgICAgICAgdG9rZW46IHt9LAogICAgICB9OwogICAgfSwKICAgIG1vdW50ZWQgKCkgewogICAgICB0aGlzLmN1cnJlbnROZXR3b3JrID0gdGhpcy5nZXRQYXJhbSgnbmV0d29yaycpIHx8IHRoaXMubmV0d29yay5kZWZhdWx0OwogICAgICB0aGlzLmluaXREYXBwKCk7CiAgICB9LAogICAgbWV0aG9kczogewogICAgICBhc3luYyBpbml0RGFwcCAoKSB7CiAgICAgICAgdGhpcy5uZXR3b3JrLmN1cnJlbnQgPSB0aGlzLm5ldHdvcmsubGlzdFt0aGlzLmN1cnJlbnROZXR3b3JrXTsKICAgICAgICB0cnkgewogICAgICAgICAgYXdhaXQgdGhpcy5pbml0V2ViMyh0aGlzLmN1cnJlbnROZXR3b3JrLCB0cnVlKTsKICAgICAgICAgIGF3YWl0IHRoaXMuZ2V0VG9rZW4odGhpcy5nZXRQYXJhbSgnYWRkcmVzcycpKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICBhbGVydChlKTsKICAgICAgICAgIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgPSB0aGlzLiR3aXRoQmFzZSgnLycpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYXN5bmMgZ2V0VG9rZW4gKGFkZHJlc3MpIHsKICAgICAgICBpZiAoYWRkcmVzcykgewogICAgICAgICAgdGhpcy50b2tlbi5hZGRyZXNzID0gYWRkcmVzczsKICAgICAgICAgIHRoaXMuaW5pdENvbnRyYWN0KHRoaXMudG9rZW4uYWRkcmVzcyk7CgogICAgICAgICAgdGhpcy50b2tlbi5uYW1lID0gYXdhaXQgdGhpcy5wcm9taXNpZnkodGhpcy5pbnN0YW5jZXMudG9rZW4ubWV0aG9kcy5uYW1lKCkuY2FsbCk7CiAgICAgICAgICB0aGlzLnRva2VuLnN5bWJvbCA9IGF3YWl0IHRoaXMucHJvbWlzaWZ5KHRoaXMuaW5zdGFuY2VzLnRva2VuLm1ldGhvZHMuc3ltYm9sKCkuY2FsbCk7CiAgICAgICAgICB0aGlzLnRva2VuLmRlY2ltYWxzID0gKGF3YWl0IHRoaXMucHJvbWlzaWZ5KHRoaXMuaW5zdGFuY2VzLnRva2VuLm1ldGhvZHMuZGVjaW1hbHMoKS5jYWxsKSkudmFsdWVPZigpOwogICAgICAgICAgdGhpcy50b2tlbi5sb2dvID0gdGhpcy5nZXRQYXJhbSgnbG9nbycpID8gZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMuZ2V0UGFyYW0oJ2xvZ28nKSkgOiAnJzsKCiAgICAgICAgICBpZiAoIXRoaXMudG9rZW4ubmFtZSB8fCAhdGhpcy50b2tlbi5zeW1ib2wgfHwgIXRoaXMudG9rZW4uZGVjaW1hbHMpIHsKICAgICAgICAgICAgYWxlcnQoJ0l0IHNlZW1zIHRoYXQgaXQgaXMgbm90IGEgdmFsaWQgVG9rZW4gb3IgeW91IGFyZSBvbiB0aGUgd3JvbmcgbmV0d29yaycpOwogICAgICAgICAgICB0aGlzLmxvYWRlZCA9IGZhbHNlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5sb2FkZWQgPSB0cnVlOwoKICAgICAgICAgICAgY29uc3QgdG9rZW5IYXNoID0gdGhpcy53ZWIzLnV0aWxzLnRvSGV4KAogICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgICAgIGFkZHJlc3M6IHRoaXMudG9rZW4uYWRkcmVzcywKICAgICAgICAgICAgICAgIGxvZ286IHRoaXMudG9rZW4ubG9nbywKICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIHRoaXMudG9rZW5MaW5rID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbiArIHRoaXMuJHdpdGhCYXNlKGAvcGFnZS8/aGFzaD0ke3Rva2VuSGFzaH0mbmV0d29yaz0ke3RoaXMuY3VycmVudE5ldHdvcmt9YCk7CgogICAgICAgICAgICBpZiAoIXRoaXMuZW1iZWRkZWQpIHsKICAgICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5ocmVmID0gdGhpcy50b2tlbkxpbms7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZiA9IHRoaXMuJHdpdGhCYXNlKCcvJyk7CiAgICAgICAgfQogICAgICB9LAogICAgfSwKICB9Owo="},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";AA2BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Detail.vue","sourceRoot":"vuepress/components","sourcesContent":["<template>\n  <b-row class=\"p-0 pt-4\">\n    <b-col v-if=\"loading\" lg=\"6\" offset-lg=\"3\">\n      <b-card bg-variant=\"light\">\n        <ui--loader :loading=\"loading\"></ui--loader>\n      </b-card>\n    </b-col>\n    <b-col v-if=\"!loading && !loaded\" lg=\"6\" offset-lg=\"3\">\n      <b-card bg-variant=\"light\">\n        <blockquote>Some error occurred</blockquote>\n        <router-link to=\"/create/\">Try adding your token</router-link>\n      </b-card>\n    </b-col>\n    <b-col v-if=\"loaded\" lg=\"6\" offset-lg=\"3\" class=\"mt-2 p-0\">\n      <b-card footer-class=\"p-0\" no-body>\n        <b-alert show variant=\"warning\" class=\"m-0\">\n          Embed is no longer available.<br>\n          Click\n          <b-link :href=\"tokenLink\" target=\"_blank\">here</b-link>\n          to have more information about {{ token.name }}.\n        </b-alert>\n      </b-card>\n    </b-col>\n  </b-row>\n</template>\n\n<script>\n  import browser from '../mixins/browser';\n  import dapp from '../mixins/dapp';\n\n  export default {\n    name: 'Detail',\n    mixins: [\n      browser,\n      dapp,\n    ],\n    data () {\n      return {\n        loaded: false,\n        loading: true,\n        tokenLink: '',\n        tokenEmbed: 'No longer available',\n        currentNetwork: null,\n        token: {},\n      };\n    },\n    mounted () {\n      this.currentNetwork = this.getParam('network') || this.network.default;\n      this.initDapp();\n    },\n    methods: {\n      async initDapp () {\n        this.network.current = this.network.list[this.currentNetwork];\n        try {\n          await this.initWeb3(this.currentNetwork, true);\n          await this.getToken(this.getParam('address'));\n        } catch (e) {\n          alert(e);\n          document.location.href = this.$withBase('/');\n        }\n      },\n      async getToken (address) {\n        if (address) {\n          this.token.address = address;\n          this.initContract(this.token.address);\n\n          this.token.name = await this.promisify(this.instances.token.methods.name().call);\n          this.token.symbol = await this.promisify(this.instances.token.methods.symbol().call);\n          this.token.decimals = (await this.promisify(this.instances.token.methods.decimals().call)).valueOf();\n          this.token.logo = this.getParam('logo') ? decodeURIComponent(this.getParam('logo')) : '';\n\n          if (!this.token.name || !this.token.symbol || !this.token.decimals) {\n            alert('It seems that it is not a valid Token or you are on the wrong network');\n            this.loaded = false;\n          } else {\n            this.loaded = true;\n\n            const tokenHash = this.web3.utils.toHex(\n              JSON.stringify({\n                address: this.token.address,\n                logo: this.token.logo,\n              }),\n            );\n\n            this.tokenLink = window.location.origin + this.$withBase(`/page/?hash=${tokenHash}&network=${this.currentNetwork}`);\n\n            if (!this.embedded) {\n              document.location.href = this.tokenLink;\n            }\n          }\n\n          this.loading = false;\n        } else {\n          document.location.href = this.$withBase('/');\n        }\n      },\n    },\n  };\n</script>\n"]}]}